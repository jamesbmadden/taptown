import{d as r,a as s}from"./db.ba7b3be2.js";import"./vendor.4f190134.js";const o=document.querySelector(".game-saves"),d=document.querySelector(".add-save"),i=document.getElementById("new-save-name"),m=new URLSearchParams(location.search).get("pwa");m==="true"&&(document.querySelector(".pwa-button").hidden=!0);u();async function u(){const e=await r();c(await s(e)),d.addEventListener("click",async()=>{const t=i.value,a={lastSaved:Date.now(),map:new Uint8Array(Array(4096).fill(0))};await e.transaction("saves","readwrite").objectStore("saves").put(a,t),console.log(t,"save added"),c(await s(e))})}function c(e){o.innerHTML="",e.forEach(t=>{const a=document.createElement("span");a.textContent=t;const n=document.createElement("li");n.innerHTML=`${a.outerHTML} - <a href="./app/?save=${encodeURIComponent(t)}">Play</a>`,o.appendChild(n)})}
