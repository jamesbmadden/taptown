<!DOCTYPE html>
<html>
  <head>
    <title>üè† TapTown!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <script type="module" src="./src/index.ts"></script>
    <link rel="stylesheet" href="./src/index.scss" />
    <link rel="manifest" href="./manifest.json" />
    <meta name="theme-color" content="#64a666" />
    <link rel="icon" type="image/png" sizes="64x64" href="./img/icons/logo-64.png" />

    <!-- Apple PWA info -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="application-name" content="TapTown!">
    <meta name="apple-mobile-web-app-title" content="TapTown!">
    <link rel="apple-touch-icon" sizes="192x192" href="./img/icons/logo-square-192.png" />

    <!-- Register the Service Worker -->
    <script>
      if ('serviceWorker' in navigator && !/localhost/.test(window.location)) {

        // register service worker :)
        navigator.serviceWorker.register('./sw.js').then(registration => {

          // sevice worker successful!
          console.log('here\'s the service worker :)', registration);

        });

      }
    </script>

  </head>
  <body>
    <div class="bg-container">
      <video class="bg-video" src="./img/bg.mp4" loop muted autoplay></video>
    </div>
    <header>
      <img class="logo" src="./img/logo.png" alt="TapTown">
    </header>
    <main>
      <div class="home-cards">
        <div class="card card-install" onclick="document.querySelector('pwa-install').openPrompt()">
          <div class="card-inner">
            <h2>Install TapTown</h2>
            <p>Add TapTown to your homescreen for easy access and a full app experience.</p>
          </div>
        </div>

        <div class="card card-saves" onclick="document.querySelector('pwa-install').openPrompt()">
          <div class="card-inner">
            <h2>Continue Game</h2>
            <p>See List of Previous Saves</p>
          </div>
        </div>

        <div class="save-list"></div>
        
        <div class="card card-newsave">
          <div class="card-inner">
            <h2>New Game</h2>
            <label for="new-save-name">New Save:</label><input id="new-save-name" name="new-save-name" type="string"><button class="add-save">Play</button>
          </div>
        </div>
      </div>
      <pwa-install usecustom></pwa-install>
    </main>
  </body>
</html>
